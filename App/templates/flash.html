{% extends 'base.html' %}
{% block content %}
    {% with messages = get_flashed_messages() %}
        {% if messages %}
            <ul>
                {% for message in messages %}
                    <div class="alert alert-primary" role="alert">
                        <a href="/" class="alert-link">{{ message }}.点击跳转</a>
                        <p>页面将在 <span id="countdown">3</span> 秒后自动跳转...</p>
                    </div>
                    <script>
                        let countdown = 3;
                        const countdownElement = document.getElementById('countdown');

                        const interval = setInterval(() => {
                            countdown--;
                            countdownElement.textContent = countdown;

                            if (countdown <= 0) {
                                clearInterval(interval);
                                window.location.href = '/';  // 设置跳转链接
                            }
                        }, 1000);
                    </script>
                {% endfor %}
            </ul>
        {% endif %}
    {% endwith %}
{% endblock %}
